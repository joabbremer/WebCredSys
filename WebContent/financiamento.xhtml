<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>CredSys</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
	<meta content="" name="CredSys" />
	<meta content="" name="Devit e Joab Bremer" />

	<h:outputStylesheet
		name="plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet"
		type="text/css" />
	<h:outputStylesheet
		name="plugins/simple-line-icons/simple-line-icons.min.css"
		rel="stylesheet" type="text/css" />
	<h:outputStylesheet name="plugins/bootstrap/css/bootstrap.min.css"
		rel="stylesheet" type="text/css" />
	<h:outputStylesheet name="plugins/uniform/css/uniform.default.css"
		rel="stylesheet" type="text/css" />
	<h:outputStylesheet
		name="plugins/bootstrap-switch/css/bootstrap-switch.min.css"
		rel="stylesheet" type="text/css" />

	<h:outputStylesheet name="plugins/select2/css/select2.min.css"
		rel="stylesheet" type="text/css" />
	<h:outputStylesheet
		name="plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet"
		type="text/css" />

	<h:outputStylesheet name="css/components-md.min.css" rel="stylesheet"
		id="style_components" type="text/css" />

	<h:outputStylesheet name="css/plugins-md.min.css" rel="stylesheet"
		type="text/css" />

	<h:outputStylesheet name="css/layout.min.css" rel="stylesheet"
		type="text/css" />

	<h:outputStylesheet name="css/light.min.css" rel="stylesheet"
		type="text/css" id="style_color" />


	<h:outputStylesheet name="css/custom.min.css" rel="stylesheet"
		type="text/css" />

</h:head>
<h:body
	styleClass="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo page-md">

	<div class="page-header navbar navbar-fixed-top">
		<div class="page-header-inner ">
			<div class="page-logo">
				<img src="resources/img/logo.png" alt="logo" class="logo" />
				<div class="menu-toggler sidebar-toggler"></div>
			</div>
			<a href="javascript:;" class="menu-toggler responsive-toggler"
				data-toggle="collapse" data-target=".navbar-collapse"> </a>
		</div>
	</div>
	<div class="clearfix"></div>
	<div class="page-container">

		<!-- MENU LATERAL -->
		<div class="page-sidebar-wrapper">
			<div class="page-sidebar navbar-collapse collapse">
				<ul class="page-sidebar-menu   " data-keep-expanded="false"
					data-auto-scroll="true" data-slide-speed="200">
					<li class="heading">
						<h3 class="uppercase">Simulação</h3>
					</li>
					<li class="nav-item"><h:link outcome="simulacao"
							value="Simulação" styleClass="nav-link nav-toggle"></h:link></li>


					<li class="heading">
						<h3 class="uppercase">Cadastros</h3>
					</li>
					<li class="nav-item"><h:link outcome="index" value="Clientes"
							styleClass="nav-link nav-toggle"></h:link></li>
					<li class="nav-item"><h:link outcome="financiamento"
							value="Financiamento" styleClass="nav-link nav-toggle"></h:link>
					</li>
					<li class="nav-item"><h:link outcome="parcela"
							value="Parcelas" styleClass="nav-link nav-toggle"></h:link></li>
				</ul>
			</div>
		</div>
		<div class="page-content-wrapper">
			<div class="page-content">
				<div class="row">
					<div class="col-md-12">
						<div class="portlet light bordered" id="parcelas">
							<div class="portlet-title">
								<div class="caption">
									<i class=" fa fa-money font-green"></i> <span
										class="caption-subject font-grey-mint bold uppercase">
										Calcula Financiamento</span>
								</div>
							</div>
							<div class="portlet-body form">
								<h:form class="form-horizontal" action="#" id="submit_form"
									method="POST">
									<div class="form-body"></div>
									<div class="form-actions">

										<div class="portlet light bordered">
											<div class="portlet-title">
												<div class="caption">
													<i class=" fa fa-search font-green-seagreen"></i> <span
														class="caption-subject bold uppercase font-grey-mint">
														Pesquisa Cliente</span>
												</div>
											</div>
											<label class="control-label col-md-3">CPF </label>
											<div class="input-group col-md-6">
												<h:inputText value="#{clienteBean.PrepareToShare().cpf}" class="form-control"
													required="true" />
												<span class="input-group-btn"> <h:commandLink
														value="Buscar" action="#{clienteBean.ShareByCpf()}"
														ajax="true" icon="ui-icon-refresh" process="@all"
														update=":formtotable:tableparcelas" class="btn blue" />
												</span>
											</div>
										</div>
										<br />
										
										<div class="form-group">
											
											<br /> <label class="control-label col-md-3">Cliente:
											</label>
											<div class="col-md-4">
												<h:outputLabel
														value="#{financiamentoBean.ClienteSelected().nome}">
												</h:outputLabel>
											</div>
										</div>		
										<div class="form-group">
											<br /> <label class="control-label col-md-3">Valor
												do Financiamento <span class="required"> * </span>
											</label>
											<div class="col-md-4">
												<h:inputText id="valor"
													value="#{simulacaoBean.PrepareToSimule().valor}"
													class="form-control" title="Valor" required="true" />
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3">Parcelas <span
												class="required"> * </span>
											</label>
											<div class="col-md-4">
												<h:inputText id="parcelas"
													value="#{simulacaoBean.PrepareToSimule().qtParcelas}"
													class="form-control" title="Parcelas" required="true" />
											</div>
										</div>
										<div class="form-group">
											<label class="control-label col-md-3">Data Primeira
												Parcela <span class="required"> * </span>
											</label>
											<div class="col-md-4">
												<h:inputText id="primeiraParcela"
													converter="javax.faces.DateTime"
													value="#{simulacaoBean.PrepareToSimule().primeiraParcela}"
													class="form-control" title="Data" >
													<f:convertDateTime pattern="dd/MM/yyyy" />	
												</h:inputText>
											</div>
										</div>
										<div class="form-actions">
											<div class="row">
												<div class="col-md-offset-3 col-md-9">
													<h:commandLink value="Calcular"
														action="#{financiamentoBean.CalcularFianciamento()}"
														ajax="true" icon="ui-icon-refresh" process="@all"
														update=":formtotable:tableparcelas" class="btn blue" />
												</div>
											</div>
										</div>

									</div>

								</h:form>
							</div>
						</div>

						<div class="portlet">
							<div class="portlet box green-seagreen">
								<div class="portlet-title">
									<div class="caption">
										<i class="fa fa-clone"></i>Parcelas
									</div>
								</div>
								<div class="portlet-body flip-scroll">

									<h:form name="formtotable">
										<h:panelGroup>
											<h:dataTable name="tableparcelas"
												value="#{financiamentoBean.ListParcela()}" var="parcela" 
												class="table table-bordered table-striped table-condensed flip-content">

												<h:column headerText="SKU"
													style="text-align: center; width: 100px">
													<f:facet name="header">
														<h:outputText value="Parcela" />
													</f:facet>
													<h:outputText
														value="#{parcela.numeroParcela}" />
												</h:column>
												<h:column headerText="SKU"
													style="text-align: center; width: 100px">
													<f:facet name="header">
														<h:outputText value="Vencimento" />
													</f:facet>
													<h:outputText value="#{parcela.dataVencimento}" >
														<f:convertDateTime pattern="dd/MM/yyyy"/>
													</h:outputText>
												</h:column>
												<h:column headerText="SKU"
													style="text-align: center; width: 100px">
													<f:facet name="header">
														<h:outputText value="Valor" />
													</f:facet>
													<h:outputLabel value="#{parcela.valor}"> 
														<f:convertNumber currencyCode="BRL" type="currency"/>
													</h:outputLabel>
													
												</h:column>
												
											</h:dataTable>
										</h:panelGroup>

									</h:form>
									<h:form>
									<div class="form-actions">
											<h:commandLink value="Financiar" action="#{financiamentoBean.Financiar() }" 
											ajax="true" icon="ui-icon-refresh" process="@all"
											update=":formtotable:tableparcelas" class="btn red" />
										</div>
									</h:form>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--[if lt IE 9]>
<h:outputScript name="assets/global/plugins/respond.min.js"/>
<h:outputScript name="assets/global/plugins/excanvas.min.js"/> 
<![endif]-->

	<h:outputScript name="plugins/jquery.min.js" type="text/javascript" />
	<h:outputScript name="plugins/bootstrap/js/bootstrap.min.js"
		type="text/javascript" />
	<h:outputScript name="plugins/js.cookie.min.js" type="text/javascript" />
	<h:outputScript
		name="plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
		type="text/javascript" />
	<h:outputScript
		name="plugins/jquery-slimscroll/jquery.slimscroll.min.js"
		type="text/javascript" />
	<h:outputScript name="plugins/jquery.blockui.min.js"
		type="text/javascript" />
	<h:outputScript name="plugins/uniform/jquery.uniform.min.js"
		type="text/javascript" />
	<h:outputScript
		name="plugins/bootstrap-switch/js/bootstrap-switch.min.js"
		type="text/javascript" />

	<h:outputScript name="plugins/select2/js/select2.full.min.js"
		type="text/javascript" />
	<h:outputScript
		name="plugins/jquery-validation/js/jquery.validate.min.js"
		type="text/javascript" />
	<h:outputScript
		name="plugins/jquery-validation/js/additional-methods.min.js"
		type="text/javascript" />
	<h:outputScript
		name="plugins/bootstrap-wizard/jquery.bootstrap.wizard.min.js"
		type="text/javascript" />

	<h:outputScript name="js/app.min.js" type="text/javascript" />

	<h:outputScript name="js/form-wizard.min.js" type="text/javascript" />

	<h:outputScript name="js/layout.min.js" type="text/javascript" />
	<h:outputScript name="js/demo.min.js" type="text/javascript" />
	<h:outputScript name="js/quick-sidebar.min.js" type="text/javascript" />

</h:body>
</html>